
> trick-card-game-frontend@2.0.0 test
> vitest --run


[7m[1m[36m RUN [39m[22m[27m [36mv1.6.1[39m [90mC:/Users/marc_/Documents/WebApp/anthropicJoffre/frontend[39m

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mLoading State[2m > [22m[2mshould show loading spinner on mount[22m[39m
[GameReplay] Requesting replay for game: test-game-123

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mLoading State[2m > [22m[2mshould emit get_game_replay on mount[22m[39m
[GameReplay] Requesting replay for game: test-game-123

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mLoading State[2m > [22m[2mshould register socket event handlers[22m[39m
[GameReplay] Requesting replay for game: test-game-123

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mData Loading[2m > [22m[2mshould display replay data when loaded successfully[22m[39m
[GameReplay] Requesting replay for game: test-game-123
[GameReplay] Received replay data for game: test-game-123 rounds: [33m5[39m
[GameReplay] Replay data validated successfully. Rounds: [33m2[39m

[90mstderr[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mData Loading[2m > [22m[2mshould display replay data when loaded successfully[22m[39m
Warning: An update to GameReplay inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at GameReplay (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\src\components\GameReplay.tsx:9:23)
Warning: An update to GameReplay inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at GameReplay (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\src\components\GameReplay.tsx:9:23)
Warning: An update to GameReplay inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at GameReplay (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\src\components\GameReplay.tsx:9:23)
Warning: An update to GameReplay inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at GameReplay (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\src\components\GameReplay.tsx:9:23)

 [32mâœ“[39m src/components/BettingPhase.test.tsx [2m ([22m[2m19 tests[22m[2m)[22m[90m 155[2mms[22m[39m
 [32mâœ“[39m src/components/TeamSelection.test.tsx [2m ([22m[2m18 tests[22m[2m)[22m[90m 217[2mms[22m[39m
[90mstdout[2m | src/components/SocialPanel.test.tsx[2m > [22m[2mSocialPanel[2m > [22m[2mrenders online and recent tab buttons[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/SocialPanel.test.tsx[2m > [22m[2mSocialPanel[2m > [22m[2mswitches tabs when tab buttons are clicked[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/StatsPanel.test.tsx[2m > [22m[2mStatsPanel[2m > [22m[2mrenders all stat buttons[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/StatsPanel.test.tsx[2m > [22m[2mStatsPanel[2m > [22m[2mopens player stats when My Stats button is clicked[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/QuickPlayPanel.test.tsx[2m > [22m[2mQuickPlayPanel[2m > [22m[2mrenders with all difficulty buttons[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/QuickPlayPanel.test.tsx[2m > [22m[2mQuickPlayPanel[2m > [22m[2mhighlights the selected difficulty[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/QuickPlayPanel.test.tsx[2m > [22m[2mQuickPlayPanel[2m > [22m[2mshows correct description for each difficulty level[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}

[90mstdout[2m | src/components/QuickPlayPanel.test.tsx[2m > [22m[2mQuickPlayPanel[2m > [22m[2mcalls onBotDifficultyChange when difficulty button is clicked[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/GameCreationForm.test.tsx[2m > [22m[2mGameCreationForm[2m > [22m[2mrenders create game form with all elements[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/GameCreationForm.test.tsx[2m > [22m[2mGameCreationForm[2m > [22m[2mshows player name input with placeholder for guests[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/GameCreationForm.test.tsx[2m > [22m[2mGameCreationForm[2m > [22m[2mdisables player name input for authenticated users[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/GameCreationForm.test.tsx[2m > [22m[2mGameCreationForm[2m > [22m[2mdefaults to ranked mode (ELO)[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/GameCreationForm.test.tsx[2m > [22m[2mGameCreationForm[2m > [22m[2mtoggles between ranked and casual mode[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mrenders join game form with all elements[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mshows join type selection with player and spectator options[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mdefaults to player join type[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mswitches to spectator join type when clicked[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

 [33mâ¯[39m src/components/PlayingPhase.test.tsx [2m ([22m[2m20 tests[22m [2m|[22m [31m2 failed[39m[2m)[22m[33m 390[2mms[22m[39m
[31m   [33mâ¯[31m src/components/PlayingPhase.test.tsx[2m > [22mPlayingPhase[2m > [22mCard Play Functionality[2m > [22mshould call onPlayCard when card clicked[39m
[31m     â†’ expected "spy" to be called with arguments: [ { color: 'red', value: 5 } ][90m

Received: 

[31m[90m

Number of calls: [1m0[22m
[31m[39m
[31m   [33mâ¯[31m src/components/PlayingPhase.test.tsx[2m > [22mPlayingPhase[2m > [22mCard Play Functionality[2m > [22mshould prevent double-clicking same card[39m
[31m     â†’ expected "spy" to be called 1 times, but got 0 times[39m
[90mstderr[2m | src/components/PlayingPhase.test.tsx[2m > [22m[2mPlayingPhase[2m > [22m[2mCard Play Functionality[2m > [22m[2mshould call onPlayCard when card clicked[22m[39m
TypeError: __vite_ssr_import_10__.sounds.cardPlay is not a function
    at C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\src\components\PlayingPhase.tsx:500:12
    at onClick (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\src\components\PlayingPhase.tsx:1040:47)
    at HTMLUnknownElement.callCallback (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
    at HTMLUnknownElement.dispatchEvent (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
TypeError: __vite_ssr_import_10__.sounds.cardPlay is not a function
    at C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\src\components\PlayingPhase.tsx:500:12
    at onClick (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\src\components\PlayingPhase.tsx:1040:47)
    at HTMLUnknownElement.callCallback (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
    at HTMLUnknownElement.dispatchEvent (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\react-dom\cjs\react-dom.development.js:4213:16)

[90mstderr[2m | src/components/PlayingPhase.test.tsx[2m > [22m[2mPlayingPhase[2m > [22m[2mCard Play Functionality[2m > [22m[2mshould prevent double-clicking same card[22m[39m
TypeError: __vite_ssr_import_10__.sounds.cardPlay is not a function
    at C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\src\components\PlayingPhase.tsx:500:12
    at onClick (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\src\components\PlayingPhase.tsx:1040:47)
    at HTMLUnknownElement.callCallback (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
    at HTMLUnknownElement.dispatchEvent (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
TypeError: __vite_ssr_import_10__.sounds.cardPlay is not a function
    at C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\src\components\PlayingPhase.tsx:500:12
    at onClick (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\src\components\PlayingPhase.tsx:1040:47)
    at HTMLUnknownElement.callCallback (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
    at HTMLUnknownElement.dispatchEvent (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (C:\Users\marc_\Documents\WebApp\anthropicJoffre\frontend\node_modules\react-dom\cjs\react-dom.development.js:4213:16)

[90mstdout[2m | src/components/StatsPanel.test.tsx[2m > [22m[2mStatsPanel[2m > [22m[2mopens leaderboard when Global Leaderboard button is clicked[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/SocialPanel.test.tsx[2m > [22m[2mSocialPanel[2m > [22m[2mdisplays online players when on online tab[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/SocialPanel.test.tsx[2m > [22m[2mSocialPanel[2m > [22m[2mshows join button for players in game[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/SocialPanel.test.tsx[2m > [22m[2mSocialPanel[2m > [22m[2mdoes not show join button for players in lobby[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/SocialPanel.test.tsx[2m > [22m[2mSocialPanel[2m > [22m[2mdisplays message when no online players[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/SocialPanel.test.tsx[2m > [22m[2mSocialPanel[2m > [22m[2mdisplays recent players when on recent tab[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/SocialPanel.test.tsx[2m > [22m[2mSocialPanel[2m > [22m[2mfilters out bot players from recent list[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/SocialPanel.test.tsx[2m > [22m[2mSocialPanel[2m > [22m[2mshows game count for recent players[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/SocialPanel.test.tsx[2m > [22m[2mSocialPanel[2m > [22m[2mdisplays message when no recent players[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/SocialPanel.test.tsx[2m > [22m[2mSocialPanel[2m > [22m[2mshows player status labels correctly[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

 [32mâœ“[39m src/components/SocialPanel.test.tsx [2m ([22m[2m11 tests[22m[2m)[22m[90m 299[2mms[22m[39m
[90mstdout[2m | src/components/StatsPanel.test.tsx[2m > [22m[2mStatsPanel[2m > [22m[2mopens browser when Recent Games button is clicked[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/QuickPlayPanel.test.tsx[2m > [22m[2mQuickPlayPanel[2m > [22m[2mdisplays persistence mode toggle[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/QuickPlayPanel.test.tsx[2m > [22m[2mQuickPlayPanel[2m > [22m[2mtoggles persistence mode when checkbox is clicked[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mshows spectator info message when spectator type is selected[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mshows (Optional) for player name when spectator type is selected[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mcalls onJoinGame with correct parameters when joining as player[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/GameCreationForm.test.tsx[2m > [22m[2mGameCreationForm[2m > [22m[2mshows appropriate info message for ranked mode[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/GameCreationForm.test.tsx[2m > [22m[2mGameCreationForm[2m > [22m[2mshows appropriate info message for casual mode[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/StatsPanel.test.tsx[2m > [22m[2mStatsPanel[2m > [22m[2mdisables My Stats and Leaderboard buttons when socket is null[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/StatsPanel.test.tsx[2m > [22m[2mStatsPanel[2m > [22m[2mshows warning message when socket is null[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/StatsPanel.test.tsx[2m > [22m[2mStatsPanel[2m > [22m[2mRecent Games button is always enabled[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/StatsPanel.test.tsx[2m > [22m[2mStatsPanel[2m > [22m[2mdisplays player statistics title[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

 [32mâœ“[39m src/components/StatsPanel.test.tsx [2m ([22m[2m8 tests[22m[2m)[22m[33m 419[2mms[22m[39m
[90mstdout[2m | src/components/QuickPlayPanel.test.tsx[2m > [22m[2mQuickPlayPanel[2m > [22m[2mdisables ranked mode checkbox when user is not authenticated[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/QuickPlayPanel.test.tsx[2m > [22m[2mQuickPlayPanel[2m > [22m[2mshows ranked badge when persistence is elo[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/QuickPlayPanel.test.tsx[2m > [22m[2mQuickPlayPanel[2m > [22m[2mcalls onQuickPlay with correct parameters when button is clicked[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mcalls onSpectateGame when joining as spectator[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/GameCreationForm.test.tsx[2m > [22m[2mGameCreationForm[2m > [22m[2mcalls onCreateGame with player name and ranked mode on submit[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/QuickPlayPanel.test.tsx[2m > [22m[2mQuickPlayPanel[2m > [22m[2mrenders Quick Play button with correct text[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

 [32mâœ“[39m src/components/QuickPlayPanel.test.tsx [2m ([22m[2m10 tests[22m[2m)[22m[33m 474[2mms[22m[39m
[90mstdout[2m | src/components/GameCreationForm.test.tsx[2m > [22m[2mGameCreationForm[2m > [22m[2mcalls onCreateGame with casual mode when checkbox is unchecked[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mshows auto-join message when autoJoinGameId is provided[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mshows back to homepage button when autoJoinGameId is provided[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mshows regular back button when autoJoinGameId is not provided[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mcalls onBack when back button is clicked[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mcalls onBackToHomepage when back to homepage button is clicked[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/GameCreationForm.test.tsx[2m > [22m[2mGameCreationForm[2m > [22m[2mcalls onBack when back button is clicked[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mdisables player name input for authenticated users[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mrequires game ID to submit[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mrequires player name when joining as player[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mdoes not require player name when joining as spectator[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mshows Join as Player button text when player type selected[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/JoinGameForm.test.tsx[2m > [22m[2mJoinGameForm[2m > [22m[2mshows Join as Guest button text when spectator type selected[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

 [32mâœ“[39m src/components/JoinGameForm.test.tsx [2m ([22m[2m19 tests[22m[2m)[22m[33m 653[2mms[22m[39m
[90mstdout[2m | src/components/GameCreationForm.test.tsx[2m > [22m[2mGameCreationForm[2m > [22m[2mupdates player name when typing in input[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

[90mstdout[2m | src/components/GameCreationForm.test.tsx[2m > [22m[2mGameCreationForm[2m > [22m[2mrequires player name to submit[22m[39m
[ModalProvider] Render, states: {
  showLoginModal: [33mfalse[39m,
  showRegisterModal: [33mfalse[39m,
  showPasswordResetModal: [33mfalse[39m
}
[AuthContext] Initial load - fetching current user

 [32mâœ“[39m src/components/GameCreationForm.test.tsx [2m ([22m[2m12 tests[22m[2m)[22m[33m 865[2mms[22m[39m
[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mData Loading[2m > [22m[2mshould handle 404 errors with correlation ID[22m[39m
[GameReplay] Requesting replay for game: test-game-123

[90mstderr[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mData Loading[2m > [22m[2mshould handle 404 errors with correlation ID[22m[39m
[GameReplay] Error loading replay: { message: [32m'Game not found'[39m, correlationId: [32m'abc-123-def'[39m } for game: test-game-123

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mData Loading[2m > [22m[2mshould handle network errors[22m[39m
[GameReplay] Requesting replay for game: test-game-123

[90mstderr[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mData Loading[2m > [22m[2mshould handle network errors[22m[39m
[GameReplay] Error loading replay: { message: [32m'Network connection failed'[39m } for game: test-game-123

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mData Loading[2m > [22m[2mshould show warning when replay has no rounds[22m[39m
[GameReplay] Requesting replay for game: test-game-123
[GameReplay] Received replay data for game: test-game-123 rounds: [33m5[39m
[GameReplay] Replay data validated successfully. Rounds: [33m0[39m

[90mstderr[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mData Loading[2m > [22m[2mshould show warning when replay has no rounds[22m[39m
[GameReplay] round_history is empty for game: test-game-123

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mPlayback Controls[2m > [22m[2mshould have play/pause button[22m[39m
[GameReplay] Requesting replay for game: test-game-123
[GameReplay] Received replay data for game: test-game-123 rounds: [33m5[39m
[GameReplay] Replay data validated successfully. Rounds: [33m2[39m

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mPlayback Controls[2m > [22m[2mshould start auto-playback when play clicked[22m[39m
[GameReplay] Requesting replay for game: test-game-123
[GameReplay] Received replay data for game: test-game-123 rounds: [33m5[39m
[GameReplay] Replay data validated successfully. Rounds: [33m2[39m

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mPlayback Controls[2m > [22m[2mshould have step forward button[22m[39m
[GameReplay] Requesting replay for game: test-game-123
[GameReplay] Received replay data for game: test-game-123 rounds: [33m5[39m
[GameReplay] Replay data validated successfully. Rounds: [33m2[39m

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mPlayback Controls[2m > [22m[2mshould have step backward button[22m[39m
[GameReplay] Requesting replay for game: test-game-123
[GameReplay] Received replay data for game: test-game-123 rounds: [33m5[39m
[GameReplay] Replay data validated successfully. Rounds: [33m2[39m

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mPlayback Controls[2m > [22m[2mshould have speed control[22m[39m
[GameReplay] Requesting replay for game: test-game-123
[GameReplay] Received replay data for game: test-game-123 rounds: [33m5[39m
[GameReplay] Replay data validated successfully. Rounds: [33m2[39m

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mPlayback Controls[2m > [22m[2mshould change playback speed[22m[39m
[GameReplay] Requesting replay for game: test-game-123
[GameReplay] Received replay data for game: test-game-123 rounds: [33m5[39m
[GameReplay] Replay data validated successfully. Rounds: [33m2[39m

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mNavigation[2m > [22m[2mshould display current round number[22m[39m
[GameReplay] Requesting replay for game: test-game-123
[GameReplay] Received replay data for game: test-game-123 rounds: [33m5[39m
[GameReplay] Replay data validated successfully. Rounds: [33m3[39m

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mNavigation[2m > [22m[2mshould navigate to next round[22m[39m
[GameReplay] Requesting replay for game: test-game-123
[GameReplay] Received replay data for game: test-game-123 rounds: [33m5[39m
[GameReplay] Replay data validated successfully. Rounds: [33m3[39m

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mNavigation[2m > [22m[2mshould navigate to previous round[22m[39m
[GameReplay] Requesting replay for game: test-game-123
[GameReplay] Received replay data for game: test-game-123 rounds: [33m5[39m
[GameReplay] Replay data validated successfully. Rounds: [33m3[39m

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mNavigation[2m > [22m[2mshould jump to specific round[22m[39m
[GameReplay] Requesting replay for game: test-game-123
[GameReplay] Received replay data for game: test-game-123 rounds: [33m5[39m
[GameReplay] Replay data validated successfully. Rounds: [33m3[39m

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mState Visualization[2m > [22m[2mshould show game scores[22m[39m
[GameReplay] Requesting replay for game: test-game-123
[GameReplay] Received replay data for game: test-game-123 rounds: [33m5[39m
[GameReplay] Replay data validated successfully. Rounds: [33m2[39m

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mState Visualization[2m > [22m[2mshould display trick history[22m[39m
[GameReplay] Requesting replay for game: test-game-123
[GameReplay] Received replay data for game: test-game-123 rounds: [33m5[39m
[GameReplay] Replay data validated successfully. Rounds: [33m2[39m

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mState Visualization[2m > [22m[2mshould show trump suit[22m[39m
[GameReplay] Requesting replay for game: test-game-123
[GameReplay] Received replay data for game: test-game-123 rounds: [33m5[39m
[GameReplay] Replay data validated successfully. Rounds: [33m2[39m

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mState Visualization[2m > [22m[2mshould display winning team[22m[39m
[GameReplay] Requesting replay for game: test-game-123
[GameReplay] Received replay data for game: test-game-123 rounds: [33m5[39m
[GameReplay] Replay data validated successfully. Rounds: [33m2[39m

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mError Recovery[2m > [22m[2mshould have Try Again button on error[22m[39m
[GameReplay] Requesting replay for game: test-game-123

[90mstderr[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mError Recovery[2m > [22m[2mshould have Try Again button on error[22m[39m
[GameReplay] Error loading replay: { message: [32m'Connection failed'[39m } for game: test-game-123

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mError Recovery[2m > [22m[2mshould retry fetching on Try Again click[22m[39m
[GameReplay] Requesting replay for game: test-game-123

[90mstderr[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mError Recovery[2m > [22m[2mshould retry fetching on Try Again click[22m[39m
[GameReplay] Error loading replay: { message: [32m'Connection failed'[39m } for game: test-game-123

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mError Recovery[2m > [22m[2mshould close on Close button click[22m[39m
[GameReplay] Requesting replay for game: test-game-123

[90mstderr[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mError Recovery[2m > [22m[2mshould close on Close button click[22m[39m
[GameReplay] Error loading replay: { message: [32m'Connection failed'[39m } for game: test-game-123

[90mstdout[2m | src/components/GameReplay.test.tsx[2m > [22m[2mGameReplay[2m > [22m[2mCleanup[2m > [22m[2mshould unregister socket handlers on unmount[22m[39m
[GameReplay] Requesting replay for game: test-game-123

 [33mâ¯[39m src/components/GameReplay.test.tsx [2m ([22m[2m25 tests[22m [2m|[22m [31m21 failed[39m[2m)[22m[33m 175299[2mms[22m[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mData Loading[2m > [22mshould display replay data when loaded successfully[39m
[31m     â†’ Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mData Loading[2m > [22mshould handle 404 errors with correlation ID[39m
[31m     â†’ Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mData Loading[2m > [22mshould handle network errors[39m
[31m     â†’ Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mData Loading[2m > [22mshould show warning when replay has no rounds[39m
[31m     â†’ Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mPlayback Controls[2m > [22mshould have play/pause button[39m
[31m     â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mPlayback Controls[2m > [22mshould start auto-playback when play clicked[39m
[31m     â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mPlayback Controls[2m > [22mshould have step forward button[39m
[31m     â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mPlayback Controls[2m > [22mshould have step backward button[39m
[31m     â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mPlayback Controls[2m > [22mshould have speed control[39m
[31m     â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mPlayback Controls[2m > [22mshould change playback speed[39m
[31m     â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mNavigation[2m > [22mshould display current round number[39m
[31m     â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mNavigation[2m > [22mshould navigate to next round[39m
[31m     â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mNavigation[2m > [22mshould navigate to previous round[39m
[31m     â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mNavigation[2m > [22mshould jump to specific round[39m
[31m     â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mState Visualization[2m > [22mshould show game scores[39m
[31m     â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mState Visualization[2m > [22mshould display trick history[39m
[31m     â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mState Visualization[2m > [22mshould show trump suit[39m
[31m     â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mState Visualization[2m > [22mshould display winning team[39m
[31m     â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mError Recovery[2m > [22mshould have Try Again button on error[39m
[31m     â†’ Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mError Recovery[2m > [22mshould retry fetching on Try Again click[39m
[31m     â†’ Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [33mâ¯[31m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mError Recovery[2m > [22mshould close on Close button click[39m
[31m     â†’ Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Failed Tests 23 [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mData Loading[2m > [22mshould display replay data when loaded successfully
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mData Loading[2m > [22mshould handle 404 errors with correlation ID
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mData Loading[2m > [22mshould handle network errors
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mData Loading[2m > [22mshould show warning when replay has no rounds
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mError Recovery[2m > [22mshould have Try Again button on error
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mError Recovery[2m > [22mshould retry fetching on Try Again click
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mError Recovery[2m > [22mshould close on Close button click
[31m[1mError[22m: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/23]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mPlayback Controls[2m > [22mshould have play/pause button
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mPlayback Controls[2m > [22mshould start auto-playback when play clicked
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mPlayback Controls[2m > [22mshould have step forward button
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mPlayback Controls[2m > [22mshould have step backward button
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mPlayback Controls[2m > [22mshould have speed control
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mPlayback Controls[2m > [22mshould change playback speed
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mNavigation[2m > [22mshould display current round number
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mNavigation[2m > [22mshould navigate to next round
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mNavigation[2m > [22mshould navigate to previous round
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mNavigation[2m > [22mshould jump to specific round
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mState Visualization[2m > [22mshould show game scores
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mState Visualization[2m > [22mshould display trick history
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mState Visualization[2m > [22mshould show trump suit
[31m[1m[7m FAIL [27m[22m[39m src/components/GameReplay.test.tsx[2m > [22mGameReplay[2m > [22mState Visualization[2m > [22mshould display winning team
[31m[1mError[22m: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".[39m
[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/23]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/components/PlayingPhase.test.tsx[2m > [22mPlayingPhase[2m > [22mCard Play Functionality[2m > [22mshould call onPlayCard when card clicked
[31m[1mAssertionError[22m: expected "spy" to be called with arguments: [ { color: 'red', value: 5 } ][90m

Received: 

[31m[90m

Number of calls: [1m0[22m
[31m[39m
[36m [2mâ¯[22m src/components/PlayingPhase.test.tsx:[2m272:30[22m[39m
    [90m270| [39m      fireEvent[33m.[39m[34mclick[39m(screen[33m.[39m[34mgetByTestId[39m([32m'card-red-5'[39m))[33m;[39m
    [90m271| [39m
    [90m272| [39m      [34mexpect[39m(mockOnPlayCard)[33m.[39m[34mtoHaveBeenCalledWith[39m(card)[33m;[39m
    [90m   | [39m                             [31m^[39m
    [90m273| [39m    })[33m;[39m
    [90m274| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[3/23]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/components/PlayingPhase.test.tsx[2m > [22mPlayingPhase[2m > [22mCard Play Functionality[2m > [22mshould prevent double-clicking same card
[31m[1mAssertionError[22m: expected "spy" to be called 1 times, but got 0 times[39m
[36m [2mâ¯[22m src/components/PlayingPhase.test.tsx:[2m298:30[22m[39m
    [90m296| [39m
    [90m297| [39m      [90m// Should only be called once due to debouncing[39m
    [90m298| [39m      [34mexpect[39m(mockOnPlayCard)[33m.[39m[34mtoHaveBeenCalledTimes[39m([34m1[39m)[33m;[39m
    [90m   | [39m                             [31m^[39m
    [90m299| [39m    })[33m;[39m
    [90m300| [39m  })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[4/23]âŽ¯[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Unhandled Errors [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
[31m[1m
Vitest caught 2 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Uncaught Exception [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
[31m[1mTypeError[22m: sounds.cardPlay is not a function[39m
[36m [2mâ¯[22m src/components/PlayingPhase.tsx:[2m500:12[22m[39m
    [90m498| [39m    }
    [90m499| [39m
    [90m500| [39m    sounds[33m.[39m[34mcardPlay[39m()[33m;[39m [90m// Play card play sound[39m
    [90m   | [39m           [31m^[39m
    [90m501| [39m    [34monPlayCard[39m(card)[33m;[39m
    [90m502| [39m
[90m [2mâ¯[22m onClick src/components/PlayingPhase.tsx:[2m1040:47[22m[39m
[90m [2mâ¯[22m HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:[2m4164:14[22m[39m
[90m [2mâ¯[22m HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:[2m26:30[22m[39m
[90m [2mâ¯[22m innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:[2m360:16[22m[39m
[90m [2mâ¯[22m invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:[2m296:3[22m[39m
[90m [2mâ¯[22m HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:[2m243:9[22m[39m
[90m [2mâ¯[22m HTMLUnknownElementImpl.dispatchEvent node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:[2m114:17[22m[39m
[90m [2mâ¯[22m HTMLUnknownElement.dispatchEvent node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:[2m241:34[22m[39m
[90m [2mâ¯[22m Object.invokeGuardedCallbackDev node_modules/react-dom/cjs/react-dom.development.js:[2m4213:16[22m[39m

[31mThis error originated in "[1msrc/components/PlayingPhase.test.tsx[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mshould call onPlayCard when card clicked[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Uncaught Exception [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
[31m[1mTypeError[22m: sounds.cardPlay is not a function[39m
[36m [2mâ¯[22m src/components/PlayingPhase.tsx:[2m500:12[22m[39m
    [90m498| [39m    }
    [90m499| [39m
    [90m500| [39m    sounds[33m.[39m[34mcardPlay[39m()[33m;[39m [90m// Play card play sound[39m
    [90m   | [39m           [31m^[39m
    [90m501| [39m    [34monPlayCard[39m(card)[33m;[39m
    [90m502| [39m
[90m [2mâ¯[22m onClick src/components/PlayingPhase.tsx:[2m1040:47[22m[39m
[90m [2mâ¯[22m HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:[2m4164:14[22m[39m
[90m [2mâ¯[22m HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:[2m26:30[22m[39m
[90m [2mâ¯[22m innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:[2m360:16[22m[39m
[90m [2mâ¯[22m invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:[2m296:3[22m[39m
[90m [2mâ¯[22m HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:[2m243:9[22m[39m
[90m [2mâ¯[22m HTMLUnknownElementImpl.dispatchEvent node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:[2m114:17[22m[39m
[90m [2mâ¯[22m HTMLUnknownElement.dispatchEvent node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:[2m241:34[22m[39m
[90m [2mâ¯[22m Object.invokeGuardedCallbackDev node_modules/react-dom/cjs/react-dom.development.js:[2m4213:16[22m[39m

[31mThis error originated in "[1msrc/components/PlayingPhase.test.tsx[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mshould prevent double-clicking same card[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m
[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[2m Test Files [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m7 passed[39m[22m[90m (9)[39m
[2m      Tests [22m [1m[31m23 failed[39m[22m[2m | [22m[1m[32m119 passed[39m[22m[90m (142)[39m
[2m     Errors [22m [1m[31m2 errors[39m[22m
[2m   Start at [22m 09:31:54
[2m   Duration [22m 178.03s[2m (transform 1.12s, setup 1.81s, collect 4.07s, tests 178.77s, environment 10.95s, prepare 2.54s)[22m

